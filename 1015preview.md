## 프로퍼티 정의

자바스크립트엔진은 프로퍼티를 생성할때, 프로퍼티의 상태를 나타내는 프로퍼티 어트리뷰트를 기본값으로 자동 정의한다.

프로퍼티상태란 프로퍼티의 값 , 값의 갱신가능여부 , 열거 가능 여부 , 재정의 가능 여부를 말한다.

#### 내부슬롯/메소드

내부슬롯과 내부메소드는 ECMAScript스펙에서 요구하는 객체와 관련된 내부 상태와 내부 동작을 정의한 것이다.

#### 프로토타입과 프로토타입 체인

프로토타입은 어떤 객체의 상위객체의 역할을 하는 객체이다.프로토타입은 하위객체에게 자신의 프로퍼티와 메소드를 상속한다.프로토타입객체의 프로퍼티나 메소드를 상속받은 하위 객체는 자신의 프로퍼티 또는 메소드인 것처럼 자유롭게 사용할 수 있다.

#### 접근자 프로퍼티

- 데이터 프로퍼티 : 키와 값으로 구성된 일반적인 프로퍼티다.
- 접근자 프로퍼티 : 자체적으로는 값을 갖지 않고 다른 데이터 프로퍼티의 값을 읽거나 저장할 떄 사용하는 접근자 함수로 구성된 프로퍼티다.

접근자 함수는 getter/setter함수라고도 부른다.접근자 프로퍼티는 getter와 setter함수를 모든 정의할 수도 있고 하나만 정의할 수도 있다.

#### 프로퍼티 어트리뷰트

데이터 프로퍼티와 접근자 프로퍼티는 **자신의 상태와 동작을 정의한 내부 슬롯/메소드를 가지고 있다.** 이들을 **프로퍼티 어트리뷰트**라 한다. 이 프로퍼티 어트리뷰트는 자바스크립트 엔진이 프로퍼티를 생성할 때, 기본값으로 자동 정의된다.



**데이터 프로퍼티는 아래와 같은 프로퍼티 어트리뷰트를 갖는다.**

| 프로퍼티 어트리뷰 | 설명                                                         | 프로퍼티 디스크립터 객체의 프로퍼티 |
| ----------------- | ------------------------------------------------------------ | ----------------------------------- |
| [[value]]         | - 프로퍼티 키로 프로퍼티 값에 접근하면 내부 메소드 [[Get]]에 의해 반환되는 값이다.<br />- 프로퍼티 키로 프로퍼티 값을 저장하면 [[Value]]에 값을 저장한다. 이때 프로퍼티가 없으면 프로퍼티를 생성하고 생성된 프로퍼티의 [[Value]]에 값을 저장한다. | value                               |
| [[writable]]      | \- 프로퍼티 값의 변경 가능 여부를 나타내며 불리언 값을 갖는다.<br />- [[Writable]]의 값이 false인 경우, 해당 프로퍼티의 [[Value]]의 값을 변경할 수 없다. | writable                            |
| [[Enumerable]]    | \- 프로퍼티의 열거 가능 여부를 나타내며 불리언 값을 갖는다.- [[Enumerable]]의 값이 false인 경우, 해당 프로퍼티는 for…in 문이나 Object.keys 메소드 등으로 열거할 수 없다. | enumerable                          |
| [[Configurable]]  | - 프로퍼티의 재정의 가능 여부를 나타내며 불리언 값을 갖는다. - [[Configurable]]의 값이 false인 경우, 해당 프로퍼티의 삭제, 프로퍼티 어트리뷰트 값의 변경이 금지된다. 단, [[Writable]]이 true인 경우, [[Value]]의 변경과 [[Writable]]을 false로 변경하는 것은 허용된다. | configurable                        |



**접근자 프로퍼티는 아래와 같은 프로퍼티 어트리뷰트를 갖는다.**

| 프로퍼티 어트리뷰트 | 설명                                                         | 프로퍼티 디스크립터 객체의 프로퍼티 |
| ------------------- | ------------------------------------------------------------ | ----------------------------------- |
| [[Get]]             | 접근자 프로퍼티를 통해 데이터 프로퍼티의 값을 읽을 때 호출되는 접근자 함수이다.접근자 프로퍼티 키로 프로퍼티 값에 접근하면 프로퍼티 어트리뷰트의 [[Get]]의 값,getter함수가 호출되고 그 결과가 프로퍼티 값으로 반환된다. | get                                 |
| [[Set]]             | 접근자 프로퍼티를 통해 데이터 프로퍼티의 값을 저장할 때 호출되는 접근자 함수이다. 즉, 접근자 프로퍼티 키로 프로퍼티 값을 저장하면 프로퍼티 어트리뷰트 [[Set]]의 값, 즉 setter 함수가 호출되고 그 결과가 프로퍼티 값으로 저장된다. | set                                 |
| [[Enumerable]]      | 데이터 프로퍼티의 [[Enumerable]]와 같다.                     | enumerable                          |
| [[Configurable]]    | 데이터 프로퍼티의 [[Configurable]]와 같다.                   | configuable                         |



## Object생성자 함수

new 연산자와 함께 Object 생성자 함수를 호출하면 빈 객체를 생성하여 반환한다. 빈 객체를 생성한 이후 프로퍼티 또는 메소드를 추가하여 객체를 완성할 수 있다.

**생성자함수란 new 연산자와 함께 호출하여 객체를 생성하는 함수를 말한다.**생성자 함수에 의해 생성된 객체를 **인스턴스**라고 한다.



인스턴스 - 는 객체가 메모리에 저장되어 실제로 존재하는 것에 초점을 맞춘 용어이다. 생성자 함수도 객체이기 때문에 생성자 함수나 클래스가 생성한 객체를 다른 객체와 구분하기 위해 인스턴스라고 부른다.



자바스크립트는 Object 생성자 함수 이외에도 String, Number, Boolean, Function, Array, Date, RegExp 등의 빌트인(intrinsic 내장) 생성자 함수를 제공한다.

### 생성자 함수

생성자함수는 이름 그대로 객체를 생성하는 함수이다.하지만 자바와 같은 클래스 기반 객체지향 언어의 생성자와는 다르게 그 형식이 정해져 있는 것이 아니라 일반 함수롸 동일한 방법으로 생성자 함수를 정의하고 **new연산자와 함께 호출하면 해당함수는 생성자 함수로 동작한다.**

#### 객체 리터럴에 의한 객체 생성 방식의 문제점

객체는 프로퍼티를 통해 객체 고유의 상태를 표현한다.그리고 메소드를 통해 상태 데이터인 프로터피를 참조하고 조작하는 동작을 표현한다.

#### 생성자함수에 의한 객체 생성 방식의 장점

생성자함수에 의한 객체 생성 방식은 마치 객체를 생성하기 위한 템플릿처럼 생성자 함수를 사용하여 프로퍼티 구조가 동일한 객체 여러개를 간편하게 생성할 수 있다.

**this** - this는 객체 자신의 프로퍼티나 메소드를 참조하기 위한 자기참조변수이다.this가 가리키는 값,즉 this바인딩은 함수 호출방식에 따라 동적으로 결정된다.

| 함수 호출 방식       | this가 가리키는 값            |
| -------------------- | ----------------------------- |
| 일반 함수로서 호출   | 전역 객체                     |
| 메소드로서 호출      | 메소드를 호출한 객체          |
| 생성자 함수로서 호출 | 생성자 함수가 생성할 인스턴스 |

#### 내부메소드[[call]]과 [[Construct]]

함수 선언문 또는 함수 표현식으로 정의한 함수는 일반적인 함수로서 호출할 수 있는 것은 물론 생성자함수로서 호출할 수 있다.생성자 함수로서 호출한다는 것은 new연산자와 함께 호출하여 객체를 생성하는 것을 의미한다.

#### constructor와 non-constructor의 구분

자바스크립트 엔진은 함수를 생성할 때, fuctionCreate이라는 추상 연산(추상 연산은 ECMAScript 사양에서 내부 동작의 구현 알고리즘을 표현한 것이다. ECMAScript 사양에서 설명을 위해 사용되는 함수와 유사한 의사 코드라고 이해하도록 하자.)을 사용한다.

#### 생성자함수와 인스턴스생성과정

생성자함수의 역할은 프로퍼티 구조가 동일한 인스턴스를 생성하기 위한 템플릿으로서 동작하여 **인스턴스를 생성**하는 것과 **생성된 인스턴스를 초기화**하는 것이다.

#### new연산자

일반 함수오 ㅏ생성자 함수에 특별한 형식적 차이는 없다.new연산자와 함께 함수를 호출하면 해당 함수는 생성자 함수로 동작한다.단,new연산자와 함께 호출하는 함수는 non-constructor가 아닌 constructor이여야 한다.

#### new.target

new연산자 없이 생성자 함수를 호출하는 것을 방지하기 위해 파스칼 케이스 컨벤션을 사용한다.하더라도 실수는 언제나 발생할 수 있다.이러한 위험성을 최피하기 위해 ES6에서는 new.target을 지원한다.

**스코프 세이프 생성자 패턴**

new.target은 ES6에서 도입된 최신 문법으로 IE에서는 지원하지 않는다.new.target을 사용할 수 없는 상황이라면 스코프 세이프 생성자패턴을 사용할 수 있다.



# 일급 객체

- 무명의 리터럴로 생성할 수 있다.즉,런타임에 생성이 가능하다.
- 변수나 자료 구조에 저장할 수 있다.
- 함수의 매개 변수에게 전달할 수 있다.
- 함수의 결과값으로 반환할 수 있다.

#### 함수 객체의 프로퍼티

함수는 객체이다.따라서 함수도 프로퍼티를 가질 수 있다.브라우저 콘솔에서 console.dir메소드를 사용하여 함수 객체의 내부를 들여다보자.

#### aguments프로퍼티

함수 객체의 arguments 프로퍼티는 현재 일부 브라우저에서 지원하고 있지만 ES3부터 표준에서 폐지 되었다.

Function.arguments와 같은 사용 방법은 권장되지 않으며 함수 내부에서 지역 변수처럼 사용할 수 있는 arguments객체를 잠조하도록 한다.

#### arguments객체의 Symbol프로퍼티

arguments객체의 Symbol프로퍼티는 arguments객체를 순회 가능한 자료 구조인 이터러블로 만들기 위한 프로퍼티다.Smbol.iterator를 프로퍼티 키로 사용한 메소드를 구현하는 것에 의해 이터러블이 된다.

#### 유사배열객체

length프로퍼티를 가진 객체로 for문으로 순회할 수 있는 객체를 말한다.

#### length프로퍼티

함수 객체의 length 프로퍼티는 함수 정의 시 선언한 매개변수의 개수를 가리킨다.

#### name프로퍼티

함수 객체의 name프로퍼티는 함수 이름을 나타낸다.name프로퍼티는 ES6이전까지는 비표준이었지만 ES6에서 정식 표준이 되었다.

#### ___proto___접근자 프로퍼티

모든 객체는 [[Prototype]]이라는 내부 슬롯을 갖는다.[[Prototype]]내부 슬롯은 객체 지향 프로그래밍의 상속을 구현하는 프로토타입 객체를 가리킨다.

#### prototype프로퍼티

prototype프로퍼티는 함수 객체만이 소유하는 프로퍼티이다.일반 객체에는 prototype프로퍼티가 없다.